<ion-view view-title="My Profile" class="accountpage">

    <ion-nav-bar class="actu_header">
        <ion-nav-buttons>
            <i class="settingsicon ion-chevron-left" ng-click="vm.goFavorites()"></i>
        </ion-nav-buttons>
    </ion-nav-bar>

    <ion-content>

        <ion type="item-text-wrap">
            <img class="profilpic" ng-src="{{vm.facePicture}}">
            <br>
            <h2 class="profilname">
                <a class="lobster-font" ng-click="vm.editNameClick()" ng-show="!vm.showNameEdit">{{vm.userName}}</a>
                <form ng-submit="vm.validateNewName(vm.newName)" ng-show="vm.showNameEdit">
                    <input class="" type="text" placeholder="Your name" ng-model="vm.newName">
                    </input>
                </form>
            </h2>

            <h3 class="email"> {{vm.userEmail}} </h3>

            <h2 class="profilname">
                <a class="lobster-font" ng-click="vm.editStatusClick()" ng-show="!vm.showStatusEdit">{{vm.userStatus}}</a>
                <form ng-submit="vm.validateNewStatus(vm.userStatus)" ng-show="vm.showStatusEdit">
                    <input class="" type="text" placeholder="Your status" ng-model="vm.userStatus">
                    </input>
                </form>
            </h2>

            <br>
            <br>

            <div class="list">

                <a class="item item-icon-left" ng-click="vm.editTopClick()">
                    <i class="icon ion-music-note"></i> Top song
                    <span class="item-note" ng-show="!vm.showTopEdit">
                        {{vm.userTopSong.artist}} - {{vm.userTopSong.title}} ({{vm.userTopSong.year}})
                    </span>
                </a>
                <form ng-submit="vm.validateNewTop(vm.userTopSong)" ng-show="vm.showTopEdit">
                    <input class="" type="text" placeholder="Title" ng-model="vm.userTopSong.title">
                    </input>
                    <input class="" type="text" placeholder="Artist" ng-model="vm.userTopSong.artist">
                    </input>
                    <input class="" type="text" placeholder="Year" ng-model="vm.userTopSong.year">
                    </input>

                    <button type="submit" class="button button-block button-positive">Save</button>

                </form>

                <a class="item item-icon-left">
                    <i class="icon ion-trophy"></i> Number of lists
                    <span class="item-note">
                        {{vm.userScore}}
                    </span>
                </a>

                <!-- PUT A SPACE HERE, MAYBE CARDS ??? -->

                <a class="item item-icon-left">
                    <i class="icon ion-information-circled"></i> Conditions of use
                </a>

                <a class="item item-icon-left" ng-click="vm.showPolicy()">
                    <i class="icon ion-locked"></i> Privacy Policy
                    <span class="item-note"></span>
                </a>

                <a class="item item-icon-left">
                    <i class="icon ion-help-buoy"></i> Contact us
                    <span class="item-note"></span>
                </a>

                <a class="item item-icon-left" ng-click="vm.showConfirmLogout()">
                    <i class="icon ion-log-out"></i> Log out
                </a>

                <button class="button button-block button-assertive" ng-show="vm.wantLogout" ng-click='vm.doLogOut()'>
                    <b>Confirm log out</b>
                </button>

                <button class="button button-block button-positive" ng-show="vm.wantLogout" ng-click='vm.hideConfirmLogout()'>
                    <b>Discard</b>
                </button>

            </div>
        </ion>

    </ion-content>
</ion-view view>
